<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verif-AI | Misinformation Detection</title>
    <style>
        /* --- CORE STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f7f6f8; color: #150e1b; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background: #ffffff; border-bottom: 1px solid #ede8f3; position: sticky; top: 0; z-index: 1000; }
        .logo { font-weight: bold; font-size: 24px; color: #8a2ce2; display: flex; align-items: center; gap: 6px; }
        nav a { margin-left: 20px; font-weight: bold; color: #150e1b; text-decoration: none; cursor: pointer; transition: color 0.3s; }
        nav a:hover { color: #8a2ce2; }
        
        main { max-width: 900px; margin: 40px auto; padding: 0 20px; text-align: center; }
        h1 { font-size: 42px; margin-bottom: 10px; }
        .tagline { font-size: 18px; color: #745095; margin-bottom: 30px; }
        
        /* --- INPUT SECTION --- */
        .input-section { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        textarea { width: 100%; height: 150px; padding: 15px; border-radius: 10px; border: 2px solid #ede8f3; font-size: 16px; resize: none; margin-bottom: 15px; }
        .button-group { display: flex; gap: 12px; }
        button { background: #8a2ce2; color: white; border: none; padding: 15px; font-size: 18px; font-weight: bold; border-radius: 10px; cursor: pointer; flex: 2; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .btn-secondary { background: #ede8f3 !important; color: #8a2ce2 !important; flex: 1; }
        
        /* --- RESULTS --- */
        #result-container { display: none; margin-bottom: 30px; padding: 25px; border-radius: 15px; border: 1px solid #ede8f3; }
        #trust-bar-bg { background: rgba(0,0,0,0.05); height: 12px; border-radius: 6px; width: 100%; margin: 15px 0; overflow: hidden; }
        #trust-bar { height: 100%; width: 0%; border-radius: 6px; transition: width 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        /* --- MODALS --- */
        .modal { display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; background-color: rgba(0,0,0,0.6); backdrop-filter: blur(5px); }
        .modal-content { background-color: white; margin: 5% auto; padding: 35px; border-radius: 15px; width: 90%; max-width: 650px; text-align: left; position: relative; max-height: 85vh; overflow-y: auto; }
        .close { position: absolute; right: 20px; top: 15px; font-size: 28px; cursor: pointer; color: #aaa; }
        .modal h2 { color: #8a2ce2; margin-bottom: 15px; border-bottom: 2px solid #f3e8ff; padding-bottom: 10px; }
        .modal p { margin-bottom: 15px; line-height: 1.6; color: #3b2a4a; }

        footer { text-align: center; padding: 40px; color: #745095; border-top: 1px solid #ede8f3; margin-top: 50px; font-size: 14px; }
    </style>
</head>
<body>

<header>
    <div class="logo">✔ Verif-AI</div>
    <nav>
        <a onclick="openModal('howItWorks')">How it works</a>
        <a onclick="openModal('aboutModal')">About</a>
        <a onclick="openModal('privacyModal')">Privacy</a>
    </nav>
</header>

<main>
    <h1>Spot fake. Stop the spread.</h1>
    <p class="tagline">Empowering users with AI-driven clarity</p>
    
    <div id="result-container">
        <h2 id="result-text"></h2>
        <div id="trust-bar-bg"><div id="trust-bar"></div></div>
        <p id="result-detail"></p>
        <p style="font-size: 12px; margin-top: 10px; color: #999; cursor: pointer; text-decoration: underline;" onclick="openModal('disclaimerModal')">Read Full Disclaimer</p>
    </div>

    <div class="input-section">
        <textarea id="newsInput" placeholder="Paste the news content here..."></textarea>
        <div class="button-group">
            <button id="verifyBtn" onclick="verify()">Verify Now</button>
            <button onclick="clearAll()" class="btn-secondary">Clear</button>
        </div>
    </div>
</main>

<div id="howItWorks" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('howItWorks')">&times;</span>
        <h2>Technical Architecture</h2>
        <p><strong>1. Cleaning:</strong> The <code>wordopt</code> function removes noise like URLs and HTML.</p>
        <p><strong>2. Math:</strong> <strong>TF-IDF</strong> weights words based on importance.</p>
        <p><strong>3. Brain:</strong> A <strong>Passive-Aggressive Classifier</strong> detects misinformation patterns.</p>
    </div>
</div>

<div id="aboutModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('aboutModal')">&times;</span>
        <h2>About Verif-AI</h2>
        <p>Verif-AI is a fake news awareness and misinformation detection platform designed to help users think before they share.</p>
        <p>In a world where false information spreads faster than facts, Verif-AI uses machine-learning based credibility indicators to provide transparent insights.</p>
        <p>Our goal is not to judge or censor, but to empower users—including elders—with clarity and awareness.</p>
    </div>
</div>

<div id="privacyModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('privacyModal')">&times;</span>
        <h2>Privacy Policy</h2>
        <p><strong>Your privacy is our priority.</strong> Submitted content is used only for verification purposes and is not retained after processing.</p>
        <p>We do not build user profiles or reuse submitted content for analytics or model training.</p>
        <p>Minimal technical data (such as IP address) may be temporarily processed for security only.</p>
    </div>
</div>

<div id="disclaimerModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('disclaimerModal')">&times;</span>
        <h2>Disclaimer</h2>
        <p>Verif-AI provides probability-based credibility assessments using machine learning.</p>
        <p>Results are intended for awareness and educational purposes and should not be considered definitive fact-checking.</p>
        <p>Verif-AI does not replace professional journalism or official verification organizations.</p>
    </div>
</div>

<footer>© 2026 Verif-AI. Promoting human-centered AI principles.</footer>

<script>
    function openModal(id) { document.getElementById(id).style.display = "block"; }
    function closeModal(id) { document.getElementById(id).style.display = "none"; }
    
    function clearAll() {
        document.getElementById('newsInput').value = "";
        document.getElementById('result-container').style.display = "none";
    }

    async function verify() {
        const textInput = document.getElementById('newsInput').value;
        if (!textInput) return alert("Please paste text first!");
        
        try {
            const response = await fetch('https://your-render-app-name.onrender.com/verify', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ text: textInput })
            });
            const data = await response.json();
            
            const resDiv = document.getElementById('result-container');
            const bar = document.getElementById('trust-bar');
            resDiv.style.display = "block";
            document.getElementById('result-text').innerText = `${data.prediction} (${data.confidence}% Confidence)`;

            if (data.prediction.includes("High Probability")) {
                resDiv.style.background = "#ffebee";
                bar.style.backgroundColor = "#e53935";
                bar.style.width = `${Math.max(5, 100 - data.confidence)}%`;
            } else {
                resDiv.style.background = "#e8f5e9";
                bar.style.backgroundColor = "#43a047";
                bar.style.width = `${data.confidence}%`;
            }
        } catch (e) { alert("Check if app.py is running!"); }
    }
</script>
</body>
</html>

